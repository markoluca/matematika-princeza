<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üëë –ü—Ä–∏–Ω—Ü–µ–∑–∞ –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ üíó</title>

<style>
body{
 margin:0;
 font-family:'Comic Sans MS', cursive;
 background:linear-gradient(to bottom,#ffe4f1,#ffc1d6);
 text-align:center;
}

header{
 background:#e11d48;
 color:white;
 padding:20px;
 font-size:26px;
}

/* ‚ù§Ô∏è –°—Ä—Ü–µ –¥—É–≥–º–µ */
.heart-btn{
 position:relative;
 width:160px;
 height:140px;
 background:#d00000;
 transform:rotate(-45deg);
 margin:40px auto;
 cursor:pointer;
 transition:0.3s;
}

.heart-btn:before,
.heart-btn:after{
 content:"";
 position:absolute;
 width:160px;
 height:140px;
 background:#d00000;
 border-radius:50%;
}

.heart-btn:before{
 top:-80px;
 left:0;
}

.heart-btn:after{
 left:80px;
 top:0;
}

.heart-btn span{
 position:absolute;
 transform:rotate(45deg);
 top:45px;
 left:20px;
 width:120px;
 text-align:center;
 color:white;
 font-weight:bold;
 font-size:16px;
}

.heart-btn:hover{
 transform:rotate(-45deg) scale(1.1);
}

.container{
 max-width:900px;
 margin:20px auto;
 padding:20px;
}

.card{
 background:white;
 padding:25px;
 border-radius:20px;
 box-shadow:0 10px 25px rgba(0,0,0,0.15);
 margin-bottom:20px;
}

.equation{
 font-size:22px;
 font-weight:bold;
 margin:15px 0;
 color:#be123c;
}

input{
 padding:10px;
 font-size:18px;
 font-weight:bold;
 text-align:center;
 border:2px solid #e11d48;
 border-radius:8px;
 width:280px;
}

#poruka{
 font-weight:bold;
 margin-top:15px;
 font-size:18px;
}

.heart{
 position:fixed;
 font-size:28px;
 animation:floatUp 1.5s ease-out forwards;
 pointer-events:none;
}

@keyframes floatUp{
 0%{transform:translateY(0);opacity:1;}
 100%{transform:translateY(-150px);opacity:0;}
}
</style>
</head>

<body>

<header>üëë –ò–≥—Ä–∏—Ü–∞ –°–†–¶–ê üíó</header>

<div class="heart-btn" onclick="startGame()">
 <span>–ó–∞–ø–æ—á–Ω–∏ –∫–≤–∏–∑</span>
</div>

<div class="container">

<div class="card">
 <div id="info"></div>
 <div id="zadatak" class="equation"></div>
 <div id="odgovorPolje"></div>
 <div id="poruka"></div>
</div>

<div class="card" id="rezultatCard" style="display:none;"></div>

</div>

<script>

let questionIndex=0;
let –±–æ–¥–æ–≤–∏=0;
let locked=false;
let pitanja=[];

function shuffle(array){
 for(let i=array.length-1;i>0;i--){
  let j=Math.floor(Math.random()*(i+1));
  [array[i],array[j]]=[array[j],array[i]];
 }
 return array;
}

function generateQuestions(){

 let lista=[

 // –°–∞–±–∏—Ä–∞—ö–µ
 {t:"–ò–∑—Ä–∞—á—É–Ω–∞—ò: 14 + 5 = _", a:"19"},
 {t:"–ò–∑—Ä–∞—á—É–Ω–∞—ò: 13 + 6 = _", a:"19"},
 {t:"–ò–∑—Ä–∞—á—É–Ω–∞—ò: 15 + 4 = _", a:"19"},

 // –û–¥—É–∑–∏–º–∞—ö–µ
 {t:"–ò–∑—Ä–∞—á—É–Ω–∞—ò: 18 ‚àí 7 = _", a:"11"},
 {t:"–ò–∑—Ä–∞—á—É–Ω–∞—ò: 20 ‚àí 9 = _", a:"11"},

 // –¢–µ—à–∫–∏ —Ç–µ–∫—Å—Ç—É–∞–ª–Ω–∏
 {t:"–ü—Ä–∏–Ω—Ü–µ–∑–∞ –∏–º–∞ 12 –∫—Ä—É–Ω–∞, –¥–æ–±–∏–ª–∞ —ò–µ 7. –ö–æ–ª–∏–∫–æ —Å–∞–¥–∞ –∏–º–∞? –ù–∞–ø–∏—à–∏ –∫–æ–º–ø–ª–µ—Ç–Ω–æ —Ä–µ—à–µ—ö–µ.", a:"12+7=19"},
 {t:"–ü—Ä–∏–Ω—Ü–µ–∑–∞ –∏–º–∞ 18 –∫—Ä—É–Ω–∞ –∏ –∏–∑–≥—É–±–∏–ª–∞ —ò–µ 5. –ö–æ–ª–∏–∫–æ —ò–µ –æ—Å—Ç–∞–ª–æ? –ù–∞–ø–∏—à–∏ –∫–æ–º–ø–ª–µ—Ç–Ω–æ —Ä–µ—à–µ—ö–µ.", a:"18-5=13"},
 {t:"–£ –¥–≤–æ—Ä—Ü—É –∏–º–∞ 9 —Ä—É–∂–∞, –¥–æ–Ω–µ—Ç–æ —ò–µ —ò–æ—à 8. –ö–æ–ª–∏–∫–æ –∏—Ö –∏–º–∞ —Å–∞–¥–∞? –ù–∞–ø–∏—à–∏ –∫–æ–º–ø–ª–µ—Ç–Ω–æ —Ä–µ—à–µ—ö–µ.", a:"9+8=17"},
 {t:"–£ –±–∞—à—Ç–∏ —ò–µ –±–∏–ª–æ 16 –ª–∞–ª–∞, —É–≤–µ–ª–æ —ò–µ 6. –ö–æ–ª–∏–∫–æ —ò–µ –æ—Å—Ç–∞–ª–æ? –ù–∞–ø–∏—à–∏ –∫–æ–º–ø–ª–µ—Ç–Ω–æ —Ä–µ—à–µ—ö–µ.", a:"16-6=10"},
 {t:"–ü—Ä–∏–Ω—Ü–µ–∑–∞ –∏–º–∞ 10 –±–∏—Å–µ—Ä–∞ –∏ –¥–æ–±–∏–ª–∞ —ò–µ —ò–æ—à 9. –ö–æ–ª–∏–∫–æ –∏–º–∞? –ù–∞–ø–∏—à–∏ –∫–æ–º–ø–ª–µ—Ç–Ω–æ —Ä–µ—à–µ—ö–µ.", a:"10+9=19"},

 // –ü–∞—Ä–Ω–∏/–Ω–µ–ø–∞—Ä–Ω–∏
 {t:"–ö–æ—ò–∏ —ò–µ –Ω–∞—ò–≤–µ—õ–∏ –ø–∞—Ä–Ω–∏ –±—Ä–æ—ò –ø—Ä–≤–µ –¥–µ—Å–µ—Ç–∏—Ü–µ?", a:"10"},
 {t:"–ö–æ—ò–∏ —ò–µ –Ω–∞—ò–≤–µ—õ–∏ –Ω–µ–ø–∞—Ä–Ω–∏ –±—Ä–æ—ò –¥—Ä—É–≥–µ –¥–µ—Å–µ—Ç–∏—Ü–µ?", a:"19"},
 {t:"–ù–∞–ø–∏—à–∏ —Å–≤–µ –ø–∞—Ä–Ω–µ –±—Ä–æ—ò–µ–≤–µ –≤–µ—õ–µ –æ–¥ 6 –∞ –º–∞—ö–µ –æ–¥ 20.", a:"8,10,12,14,16,18"},

 // –ù–∏–∑–æ–≤–∏ –ø–∞—Ä–Ω–∏
 {t:"–ù–∞—Å—Ç–∞–≤–∏ –Ω–∏–∑: 2, 4, 6, _", a:"8"},
 {t:"–ù–∞—Å—Ç–∞–≤–∏ –Ω–∏–∑: 4, 8, 12, _", a:"16"},
 {t:"–ù–∞—Å—Ç–∞–≤–∏ –Ω–∏–∑: 20, 18, 16, _", a:"14"},

 // –ù–∏–∑–æ–≤–∏ –Ω–µ–ø–∞—Ä–Ω–∏
 {t:"–ù–∞—Å—Ç–∞–≤–∏ –Ω–∏–∑: 1, 3, 5, _", a:"7"},
 {t:"–ù–∞—Å—Ç–∞–≤–∏ –Ω–∏–∑: 3, 7, 11, _", a:"15"},
 {t:"–ù–∞—Å—Ç–∞–≤–∏ –Ω–∏–∑: 19, 17, 15, _", a:"13"},

 // –ü–æ—Ä–µ—í–µ—ö–µ
 {t:"–£–ø–æ—Ä–µ–¥–∏ –±—Ä–æ—ò–µ–≤–µ: 18 _ 19 (—É–ø–∏—à–∏ <, > –∏–ª–∏ =)", a:"<"},
 {t:"–£–ø–æ—Ä–µ–¥–∏ –±—Ä–æ—ò–µ–≤–µ: 15 _ 15 (—É–ø–∏—à–∏ <, > –∏–ª–∏ =)", a:"="},
 {t:"–£–ø–æ—Ä–µ–¥–∏ –±—Ä–æ—ò–µ–≤–µ: 17 _ 14 (—É–ø–∏—à–∏ <, > –∏–ª–∏ =)", a:">"},

 // –î–æ–¥–∞—Ç–Ω–∞ —Ç–µ–∂–∞
 {t:"–ò–∑—Ä–∞—á—É–Ω–∞—ò: 19 ‚àí 8 = _", a:"11"},
 {t:"–ò–∑—Ä–∞—á—É–Ω–∞—ò: 11 + 8 = _", a:"19"}
 ];

 return lista;
}

function startGame(){
 –±–æ–¥–æ–≤–∏=0;
 questionIndex=0;
 locked=false;
 pitanja=shuffle(generateQuestions()).slice(0,25);
 document.getElementById("rezultatCard").style.display="none";
 nextQuestion();
}

function nextQuestion(){

 if(questionIndex>=25){
  finish();
  return;
 }

 locked=false;

 let p=pitanja[questionIndex];

 document.getElementById("info").innerHTML=
 "–ü–∏—Ç–∞—ö–µ: "+(questionIndex+1)+" / 25 | –ë–æ–¥–æ–≤–∏: "+–±–æ–¥–æ–≤–∏+" üíó";

 document.getElementById("zadatak").innerHTML=(questionIndex+1)+". "+p.t;
 document.getElementById("odgovorPolje").innerHTML="<input id='odg' autofocus>";
 document.getElementById("poruka").innerHTML="";

 document.getElementById("odg").addEventListener("keydown",function(e){
  if(e.key==="Enter" && !locked){
   checkAnswer();
  }
 });
}

function checkAnswer(){

 if(locked) return;
 locked=true;

 let input=document.getElementById("odg").value.replace(/\s/g,"");
 let tacno=false;

 if(input==pitanja[questionIndex].a) tacno=true;

 if(tacno){
  –±–æ–¥–æ–≤–∏+=2;
  document.getElementById("poruka").innerHTML="–ë—Ä–∞–≤–æ –ø—Ä–∏–Ω—Ü–µ–∑–æ! üíñ";
  heartAnimation();
 }else{
  document.getElementById("poruka").innerHTML="–ù–µ—Ç–∞—á–Ω–æ ‚ùå";
 }

 questionIndex++;
 setTimeout(nextQuestion,1000);
}

function finish(){

 let max=25*2;
 let proc=Math.round((–±–æ–¥–æ–≤–∏/max)*100);

 let ocena=1;
 if(proc>=90) ocena=5;
 else if(proc>=75) ocena=4;
 else if(proc>=60) ocena=3;
 else if(proc>=50) ocena=2;

 document.getElementById("rezultatCard").style.display="block";
 document.getElementById("rezultatCard").innerHTML=
 "<h3>–†–µ–∑—É–ª—Ç–∞—Ç üíó</h3>"+
 "–ë–æ–¥–æ–≤–∏: "+–±–æ–¥–æ–≤–∏+" / "+max+"<br>"+
 "–£—Å–ø–µ—à–Ω–æ—Å—Ç: "+proc+"%<br>"+
 "<b>–û—Ü–µ–Ω–∞: "+ocena+"</b>";
}

function heartAnimation(){
 for(let i=0;i<6;i++){
  let h=document.createElement("div");
  h.className="heart";
  h.innerHTML="üíñ";
  h.style.left=Math.random()*90+"%";
  h.style.top="60%";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),1500);
 }
}

</script>

</body>
</html>
